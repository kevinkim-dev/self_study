# DB



### 1. DB 정규화란 무엇이고 그 과정은?

- DB의 정규화는 DB의 데이터 중복을 제거해서 무결성을 유지하기 위한 작업입니다.
  - 무결성이란 정확성, 일관성, 유효성이 유지되는 것을 말합니다.
- 1정규화: 테이블의 컬럼이 원자값(하나의 값)만 가지도록 하는 것
- 2정규화: 완전 함수 종속을 만족하도록 테이블을 분해하는 것
  - 완전 함수 종속: 기본 키의 부분집합이 결정자가 되어서 안된다.

- 3정규화: 이행적 종속을 없애도록 테이블을 분해하는 것
  - 이행적 종속이 존재하면 한 속성이 바뀌면 그 속성과 연관된 다른 속성도 함께 영향을 받는다.

- BCNF 정규화: 모든 결정자가 후보키가 되도록 테이블을 분해하는 것.

  



### 2. 트랜잭션 격리수준에 대해 설명해주세요.

- 트랜잭션 격리 수준은 두 트랙잭션끼리 얼마나 독립되어 있는지를 나타내는 지표입니다. 데이터베이스의 다수의 트랜잭션을 동시에 처리하다보면 한 자원에 대한 write 접근을 동시에 할 수 있기 때문에 격리가 필요합니다.
- 격리 수준은 4개로 구분됩니다,
  - READ UNCOMMITTED
    - COMMIT되지 않은 데이터를 읽어오기 때문에 전혀 보호되지 않는다.
    - 롤백 되면 롤백 전에 조회한 트랜젝션은 잘못된 정보를 유지하는 Dirty Read가 발생한다.
  - READ COMMITTED
    - Commit된 데이터를 기준으로 읽어온다.
    - 같은 데이터를 두번 읽어도 중간에 커밋되면 데이터가 바뀌는 Non-repeatable read가 발생한다.
  - REPEATABLE READ
    - 한 트랙잭션이 시작되고 한번 조회한 값은 COMMIT이 생겨도 Commit한 값을 조회할 수 없다.
    - Read Committed의 Non-repeatable read는 해결했지만, 없었던 데이터를 읽거나, 있었던 데이터를 못 읽게되는 Phantom read가 발생할 수 있습니다.
  - SERIALIZABLE
    - Lock and Set과 같이 트랜잭션이 한 테이블을 읽으면 다른 테이블이 해당 데이터를 추가/변경/삭제 할 수 없는 단계. 가장 강한 격리 수준이며 데이터 정합성을 잘 보장하지만, 동시 처리 성능이 가장 떨어진다.



### 3. DB 인덱스에 대해 설명해주세요.

- DB에서 탐색을 빠르게 수행하기 위해 만들어진 개념입니다. 특정한 column을 기준으로 정렬시킨 새로운 테이블을 만든 것이 Index 테이블 입니다.
- Index 테이블을 이용하면 종이책의 목차에 있는 페이지로 바로 넘어가서 원하는 내용을 읽을 수 있는 것 처럼 특정한 인덱스부터 탐색을 시작하여 DB를 전부 탐색하는 것을 방지해서 더 효율적이고 빠른 탐색을 수행할 수 있습니다. 다만 Insertion과 Deletion이 자주 일어나는 Column이라면 Index를 쓰는 것이 오히려 악영향이 될 수 있는데, 이것은 이 작업이 Index중간에서 일어나기 때문에 Insertion이나 Deletion이 일어난 row 이후의 Index들이 전부 한칸씩 당겨지거나 밀려나는 연산을 수행해야 합니다.
- 따라서 삽입과 삭제가 잘 일어나지 않고 탐색이 목적인 테이블에 Index Table을 만드는 것이 권장됩니다.