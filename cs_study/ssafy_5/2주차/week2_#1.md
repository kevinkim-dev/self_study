# [개발상식] 함수형 프로그래밍은 무엇인가, 함수형 프로그래밍의 순수함수에 대해 아는가

> 작성자: 서울 5반 김승현





### 프로그래밍 패러다임

---

> 세상에... 프로그래밍 패러다임은 왜 이렇게 많은거지?



- 프로그래밍 패러다임(programming paradigm)이란 프로그래밍 언어가 가지고 있는 특징이다. 조금 직관적으로 말하자면, 해당 프로그래밍 언어가 지원하는 기능과 금지하는 기능이 명시되어 있다는 것이다.

- 프로그래밍 언어와 프로그래밍 패러다임은 일대일 대응 관계가 아니다. 즉 프로그래밍 언어는 프로그래밍 패러다임을 여러개 지닐 수 있다는 뜻이다.
- Python을 예시로 들면 Python 은 '객체 지향 프로그래밍, 명령형 프로그래밍, 함수형 프로그래밍, 절차적 프로그래밍' 이라는 다양한 프로그래밍 패러다임을 지니고 있다.
- 각 프로그래밍 언어가 지닌 프로그래밍 패러다임을 보면 이 언어로 개발할 때의 관점과 방향성을 결정하는데 큰 도움이 된다.



```
결론: 사용하는 프로그래밍 언어의 프로그래밍 패러다임에 대한 이해도가 개발에 도움이 된다.
```





### 선언형 프로그래밍

---

> 아직 한 단계... 남았다...



- 선언형 프로그래밍도 프로그래밍 패러다임의 일종이다.

- 선언형 프로그래밍은 "What"에 초점을 맞춘다. 
  선언형과 조금 다른 명령형 프로그래밍 언어는 "How"에 초점을 맞춘다.

  - 비유로 알아보는 선언형과 명령형

    - 선언형은 What에 초점을 맞춘다. 재귀와도 비슷하다.

      > 나무꾼 A는 나무를 밴다. 나무가 쓰러질때까지 도끼질을 한다. 전기톱이 나오면 전기톱으로 도구를 교체해서 나무를 밴다.
    
      ```python
      def mul_two(x, n):			# 1. 난 너가 뭘 주던지 2만 곱하는 함수야. 
          if n == 0:				# 3. 어? 다 곱했네? 자. 가져가
              return x
          else:					# -> 이 요소들이 없어도 컴파일은 가능함
          mul_two(x*2, n-1)	# 2. 또 곱하라고? 알겠어 또 2를 곱할게
      ```

    - 명령형 프로그래밍은 How에 초점을 맞춘다. 반복문(iteration)과 비슷하다.
    
      > 나무꾼 B는 나무를 "도끼"로 "10번" 쳐서 쓰러트린다. 10번 쳐서 안 쓰러지면 그만한다. 새로운 도구가 나왔지만, "도끼"로 쓰러트리므로 전기톱을 쓰지 않는다.
      
      ```python
  x = 5						# 1. 난 뭐로 시작해야해? -> 없으면 컴파일 불가
      n = 10						# 2. 몇번 해야해? -> 없으면 컴파일 불가
  for i in range(n):			
          x *= 2					# 3. 뭘 해야해?
      ```
      
      
  
- 선언형 프로그래밍을 지원하는 언어에는 `함수형 프로그래밍`, 논리형 프로그래밍 등이 있다.



```
결론: 함수형 프로그래밍은 선언형 프로그래밍을 지원하며, '무엇'을 할 지에 초점이 맞춰져 있다.
```





### 함수형 프로그래밍

---

> 드디어....



- 함수형 프로그래밍은 자료 처리를 수학적 함수의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임이다.
- 따라서 함수형 프로그래밍에서는 순수 함수를 만들어 사용하는 것을 지향한다.
- 순수함수만 사용하면 코드의 재사용성이 높아지고, 모듈화 수준이 올라간다.

- 순수 함수를 사용하므로써 다음과 같은 특징을 가진다

  - 불변성(Immutable)

    - 이미 있는 값을 변화하지 않는다.

  - 참조 투명성

    - 인자로 받아온 것만 사용한다.

  - 일급 함수

    - 함수를 함수의 매개변수로 넘길 수 있다.

    - 함수를 함수의 반환값으로 돌려줄 수 있다.

    - 함수를 변수나 자료구조에 담을 수 있다.

      > 결국 리턴값이 있다는 뜻이다!

  - 게으른 평가

    - 필요할 때만 값을 계산하여 시간낭비, 혹은 미리 계산이 끝나는 것을 방지한다.

- 위의 특징의 대부분은 밑의 순수함수 파트에서 집중적으로 다룰 것이다.



```
결론: 함수형 프로그래밍은 순수함수 이용을 권장하는 프로그래밍 패러다임이다.
```





### 순수함수

---

> pure function (순수함수)



- 순수함수란 부작용(side-effect, 부수효과 라고도 함.)이 없으면서 항상 출력이(return) 존재하는 함수를 말한다.

- 부작용, 혹은 부수효과라는 것은 함수가 외부에 영향을 끼치거나, 외부가 함수에 영향을 끼치는 것을 말한다.

- 즉 순수함수는 히키코모리이다. 선을 지킨다. 남의 것에 손을 대지 않고, 남이 내 것에 손을 대지 못하게 한다.

  - 예시로 알아보는 순수함수

    > 싸피 5기를 가르치는 김선생은 월말 평가를 채점하는데...
    > 문제는 한 문제고 문제의 답은 5번 이다.

    - 순수함수는 자기 할 일만 한다.

      > 김선생은 교육생의 답이 5번이면 O를 치고 아니면 X를 친다.

    - 순수함수는 들어온 인자를 바꾸지 않는다.

      > ~~김선생은 문제를 틀린 교육생을 가엽게 여겨 답을 5번으로 고쳐주고 O를 쳤다~~
      >
      > 이건 순수함수가 아닙니다

      ```python
      a = [3, 2, 1]
      b = sorted(a)
      print(a)  # a = [3, 2, 1]
      
      # sorted 함수는 들어온 인자 a를 변화하지 않고, return을 했기에 순수함수이다.
      
      ```

      

    - 순수함수는 외부에서 자신의 일에 영향을 끼치지 못하도록 한다.

      > ~~한 교육생이 답을 틀렸는데, 담당 교육 프로가 와서 우리반엔 떨어지는 사람이 없어야 한다며 맞게 해달라고 하여 맞다고 채점했다~~
      >
      > 이것도 순수함수가 아닙니다.
      >
      > 순수하다면 대통령이 와서 답이 4번이라고 우겨도 5번으로 채점해야 합니다.

      ```python
      def add(a, b):
          a += d
      	return a
      
      d = 1
      print(add(3, 4)) # 4
      
      # add함수는 d를 인자로 받아 오지 않았는데, d가 결과값에 영향을 미쳤으므로 순수함수가 아니다.
      ```

      

    - 순수함수는 자신의 외부에 영향을 미치지 않는다

      > ~~김선생은 자신의 반 채점이 끝나서 옆반 이선생 학생의 문제 채점을 도와주기로 했다~~
      >
      > 이것도 순수함수가 아닙닌다.

      ```python
      a = [3, 2, 1]
      a.sort()  
      print(a) # a = [1, 2, 3]
      
      # sort()함수는 a의 내부를 변경시켰다. 따라서 순수함수가 아니다.
      ```

- 순수함수가 아닌 경우, 외부환경이 조금만 바뀌어도 사용할 수 없거나 불편한 점이 있다.

  - 인자로 들어오지 않은 변수가 함수 내부에서 이용될 경우, 해당 변수가 없는 코드에선 작동할 수 없다.
  - 외부의 변수를 고치는 함수인 경우 역시 해당 변수가 initialized 되어있지 않은 경우 작동하지 않는다.
  - 들어오는 인자를 손상시키는 경우, 들어왔던 인자는 재사용이 불가능하다.

- 즉 이와 같은 단점들로 인해, 순수함수를 추구하여 프로그램의 모듈화 수준을 높이고, 함수의 재사용성을 높이려고 한 것이 함수형 프로그래밍이다.



```
결론: 순수함수를 사용하면 재사용성이 높아진다.
```





### 결론

---

- 함수형 프로그래밍은 순수함수의 이용을 권장하는 프로그래밍 패러다임이다
- 순수함수는 외부의 영향을 받지도, 주지도 않는다
- 따라서 순수함수는 재사용성이 높다
- 결론적으로 함수형 프로그래밍은 순수함수를 통해 코드의 재사용성을 높이는 프로그래밍 기법이다.